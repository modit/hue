<!DOCTYPE html>
<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../core-icons/iconsets/image-icons.html">
<link href="hue-dialog.html" rel="import">

<polymer-element name="hue-input" attributes="opened transition width height">

  <template>
    <style>
      #preview::shadow core-icon {
        border-radius: 3px;
        border-width: 2px;
        border-style: solid;
        box-sizing: border-box;
        -moz-box-sizing: border-box;
        -webkit-box-sizing: border-box;
      }
    </style>
    <template if="{{value}}">
      <paper-icon-button on-tap="{{open}}" iconSrc="{{value}}" id="preview"></paper-icon-button>
    </template>
    <template if="{{!value}}">
      <paper-icon-button on-tap="{{open}}" icon="image:photo"></paper-icon-button>
    </template>
    <hue-dialog id="dialog" opened="{{opened}}" value={{value}} width="{{width}}" height="{{height}}"></hue-dialog>
  </template>
  <script>
    
    Polymer('hue-input', {

      /**
       * Set opened to true to show the dialog and to false to hide it.
       * A dialog may be made intially opened by setting its opened attribute.

       * @attribute opened
       * @type boolean
       * @default false
       */
      opened: false,

      /**
       * Set this property to the id of a <core-transition> element to specify
       * the transition to use when opening/closing this dialog.
       *
       * @attribute transition
       * @type string
       * @default ''
       */
      transition: '',
      
      width: 300,
      height: 300,
      value: '',
      open: function(){
        this.opened = !this.opened;
      }
    });
  </script>

</polymer-element>